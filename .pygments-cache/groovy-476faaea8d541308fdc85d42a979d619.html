<div class="highlight"><pre><span class="kn">import</span> <span class="nn">groovy.transform.EqualsAndHashCode</span>
<span class="kn">import</span> <span class="nn">org.bson.types.ObjectId</span><span class="o">&lt;</span><span class="s">/p&gt;</span>

<span class="s">&lt;p&gt;@EqualsAndHashCode</span>
<span class="s">class Building implements Serializable {&lt;/</span><span class="n">p</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>  <span class="kd">static</span> <span class="n">mapWith</span> <span class="o">=</span> <span class="s1">&#39;mongo&#39;</span><span class="o">&lt;</span><span class="s">/p&gt;</span>

<span class="s">&lt;p&gt;  static embedded = [&#39;offices&#39;]&lt;/</span><span class="n">p</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;</span>  <span class="n">ObjectId</span> <span class="n">id</span>
  <span class="n">String</span> <span class="n">name</span>
  <span class="n">List</span><span class="o">&lt;</span><span class="n">Office</span><span class="o">&gt;</span> <span class="n">offices</span><span class="o">&lt;/</span><span class="n">p</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="n">p</span><span class="o">&gt;}</span>
</pre>
</div>
